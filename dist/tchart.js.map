{"version":3,"sources":["../tchart.js"],"names":["TChart","Math","max","min","generateId","random","toString","substr","addEventListeners","el","events","listener","opts","eventsList","split","i","length","addEventListener","style","obj","Object","entries","reduce","styleString","propName","propValue","replace","matches","toLowerCase","configure","val","config","assign","setData","data","Array","isArray","TypeError","rerender","render","bind","fullrerender","drawingFrame","x","y","width","height","yAxis","text","fontSize","fontFamily","grid","horizontalLines","lineWidth","switchMode","nightMode","isNightMode","getColor","name","colorsMap","night","day","prepareChartData","chartData","xData","minMaxXData","minY","maxY","columnData","yDatas","colors","names","columnIndex","columns","Error","columnName","columnType","types","includes","slice","minMax","yData","minMaxYData","push","minX","maxX","chartsContainer","document","getElementById","containerId","body","className","innerHTML","ChartHTMLComponent","create","bypassXPoints","canvas","callback","clientWidth","drawPlot","areaMetric","drawingFunc","points","compressionRatioX","compressionRatioY","lineIndex","visible","yIndex","Animation","frameHandler","start","context","duration","frame","timestamp","startAnimTime","progress","call","reqAnimId","requestAnimationFrame","onFinishedCallback","cancelAnimationFrame","easeOutExpo","t","b","c","d","pow","onFinished","toHumanValue","v","toFixed","parentElementsHierarchy","e","parents","parentElement","window","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","mozCancelAnimationFrame","background","XYAxisLabels","gridBottomBorder","gridLine","zoomOverlay","zoomCarriageTool","verticalInfoLine","pointsInfoBackground","pointsInfoTitle","legendItemBorder","legendItemName","downloadChart","downloadChartOnHover","MONTH_NAMES","HTMLComponent","CREATED","_id","_events","parent","event","handler","once","values","EVENTS","where","whenCreate","html","_wrap","on","_postCreate","insertAdjacentHTML","remove","newData","_raiseEvent","whenRendered","created","whenCreated","Promise","then","eventName","forEach","template","NAME","CanvasHTMLComponent","ctx2d","clearRect","resolve","setTimeout","clientHeight","dpr","devicePixelRatio","canvasRect","getBoundingClientRect","getContext","scale","XAxisLayerCanvasHTMLComponent","clear","_renderXAxisDates","font","fillStyle","textBaseline","labelOccupiedWidth","date","Date","label","getMonth","getDate","labelWidth","measureText","labelMidWidth","labelX","labelXEnd","fillText","YAxisLayerCanvasHTMLComponent","_prevMaxY","_anim","_frameAnimHandler","increase","layer","anim","ctx","stepValY","stepHrzLine","maxShift","initY","animY","beginPath","strokeStyle","moveTo","lineTo","stroke","_renderXYAxisLabels","PointsInfoHTMLComponent","_values","weekDay","DAY_NAMES","getDay","month","map","yVal","lineName","color","join","backgroundColor","onMouseOut","left","right","top","InfoLayerCanvasHTMLComponent","_chartData","_pointsInfo","_mouseMoveHandler","_mouseOutHandler","stopPropagation","relatedTarget","currXPos","PI","leftPointMidDist","rightPointMidDist","_firstPoint","addVal","setPosition","arc","fill","_showInfo","layerX","PlotLayerCanvasHTMLComponent","renderedChartData","animate","yr","prevY","ZoomCarriageHTMLComponent","_currVisibilityFrame","_moveIsActive","_startStretchXPos","_initProps","_leftStretch","_rightStretch","_leftStretchIsActive","_rightStretchIsActive","borderTopColor","borderBottomColor","getElementsByClassName","_windowMouseMoveHandler","_windowMouseUpHandler","_mouseDownHandler","_stretchMouseDownHandler","whenVisibilityChanged","visibilityFrame","parseFloat","screenX","TouchEvent","changedTouches","dist","_move","_moveLeftStretch","_moveRightStretch","touches","getRightShift","target","offsetLeft","newRight","_setProps","newWidth","from","to","ZoomPlotCanvasHTMLComponent","ZoomHTMLComponent","_plot","_overlay","_zoomCarriage","_whenVisibilityChanged","_renderOverlay","fillRect","zoomCarriageRightShift","LegendItemHTMLComponent","_lineIndex","_visible","styleObj","borderColor","maskImage","webkitMaskImage","whenStateChanged","LegendHTMLComponent","_lines","legendItem","whenLegendItemStateChanged","DownloadChartHTMLComponent","plotLayer","xAxisLayer","yAxisLayer","title","download","drawImage","href","toDataURL","_yAxisLayer","_xAxisLayer","_plotLayer","_infoLayer","_zoom","_legend","_download","currVisibilityFrame","visibilityChangedTimer","lastVisibleChartData","_render","clearTimeout","zoom","addLine","recalculateMinMaxY","xl","visibleXData","minMaxX","visibleChartData","visibleData","pointsYLen","mm"],"mappings":"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","sourcesContent":["const TChart = (\n() => {\n    let requestAnimationFrame = window.requestAnimationFrame\n        || window.mozRequestAnimationFrame\n        ||  window.webkitRequestAnimationFrame\n        || window.msRequestAnimationFrame,\n\n        cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\n\n    let colorsMap = {\n        day: {\n            background: '#FFF',\n            XYAxisLabels: '#A1ACB3',\n            gridBottomBorder: '#cacccd',\n            gridLine: '#d4d6d7',\n            zoomOverlay: 'rgba(239,243,245,0.5)',\n            zoomCarriageTool: 'rgba(218,231,240,0.5)',\n            verticalInfoLine: '#CBCFD2',\n            pointsInfoBackground: '#FFF',\n            pointsInfoTitle: '#000',\n            legendItemBorder: '#EFF3F5',\n            legendItemName: '#000',\n            downloadChart: '#A1ACB3',\n            downloadChartOnHover: '#939EA5'\n        },\n        night: {\n            background: '#242F3E',\n            XYAxisLabels: '#546778',\n            gridBottomBorder: '#495564',\n            gridLine: '#303D4C',\n            zoomOverlay: 'rgba(27,36,48,0.5)',\n            zoomCarriageTool: 'rgba(81,101,120,0.5)',\n            verticalInfoLine: '#4e5a69',\n            pointsInfoBackground: '#253241',\n            pointsInfoTitle: '#FFF',\n            legendItemBorder: '#495564',\n            legendItemName: '#FFF',\n            downloadChart: '#4E5A69',\n            downloadChartOnHover: '#626E7D'\n        }\n    };\n\n    /**\n     * @const {string}\n     */\n    let X_COLUMN_TYPE = 'x',\n        LINE_COLUMN_TYPE = 'line',\n        MONTH_NAMES = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n    let config = {\n        nightMode: false,\n        containerId: 'charts-container'\n    };\n\n    let rerender, fullrerender;\n\n    window.addEventListener('resize', function() {\n        fullrerender();\n    });\n\n    function generateId() {\n      return Math.random().toString(36).substr(2, 9);\n    }\n\n    function addEventListeners (el, events, listener, opts) {\n        let eventsList = events.split(' ');\n        for (let i = 0; i < eventsList.length; i++) {\n            el.addEventListener(eventsList[i], listener, opts)\n        }\n    }\n\n    function style (obj) {\n        return Object.entries(obj).reduce((styleString, [propName, propValue]) => {\n            propName = propName.replace(/([A-Z])/g, matches => `-${matches[0].toLowerCase()}`);\n            return `${styleString}${propName}:${propValue};`;\n        }, '')\n    }\n\n    class HTMLComponent {\n        NAME = null;\n        EVENTS = {\n            CREATED: 'created'\n        };\n\n        constructor() {\n            this._id = null;\n            this._events = [];\n            this.el = null;\n            this.rerender = null;\n            this.parent = null;\n        }\n\n        render(data) {\n            throw new Error()\n        }\n\n        rerender(newData) {\n            throw new Error()\n        }\n\n        on (event, handler, once) {\n            once = once || false;\n\n            if (!Object.values(this.EVENTS).includes(event)) {\n                throw new Error(`The event \"${event}\" is not supported`)\n            }\n            this._events.push({event, handler, once})\n        }\n\n        whenCreated(el, data) {}\n\n        whenCreate() {}\n\n        whenRendered(el, data) {}\n\n        create (parent, data, where) {\n            this.whenCreate();\n\n            let html = this._wrap(this.render(data));\n            if (parent instanceof HTMLComponent) {\n                this.parent = parent;\n                parent.on(this.EVENTS.CREATED, this._postCreate.bind(this, data));\n                return html\n\n            } else {\n                where = where || 'beforeEnd';\n                parent.insertAdjacentHTML(where, html);\n                this._postCreate(data)\n            }\n            return this.el\n        }\n\n        remove() {\n            if (this.el) {\n                this.el.remove();\n                this.el = null;\n            }\n        }\n\n        _postCreate (data) {\n            this.el = document.getElementById(this._id);\n\n            this.rerender = (newData) => {\n                data = newData || data;\n\n                let html = this.render(data);\n                this.el.innerHTML = html;\n                this._raiseEvent(this.EVENTS.CREATED, data);\n                this.whenRendered(this.el, data);\n                return html;\n            };\n\n            this._raiseEvent(this.EVENTS.CREATED, data);\n\n            let created = this.whenCreated(this.el, data);\n            if (created instanceof Promise) {\n                created.then(() => {\n                    this.whenRendered(this.el, data);\n                });\n            } else {\n                this.whenRendered(this.el, data);\n            }\n        };\n\n        _raiseEvent (eventName, data) {\n            this._events.forEach(({event, handler}) => {\n                if (event === eventName) {\n                    handler(data);\n                }\n            });\n            this._events = [];\n        }\n\n        _wrap (template) {\n            this._id = generateId();\n            return `<${this.NAME} id=\"${this._id}\">${template}</${this.NAME}>`\n        }\n    }\n\n    class CanvasHTMLComponent extends HTMLComponent {\n        NAME = 'canvas';\n\n        constructor() {\n            super();\n\n            this.ctx2d = null;\n        }\n\n        clear() {\n            this.ctx2d.clearRect(0, 0, this.el.width, this.el.height)\n        }\n\n        whenCreated (el) {\n            return new Promise((resolve) => {\n                setTimeout(() => {\n                    el.width = el.clientWidth;\n                    el.height = el.clientHeight;\n\n                    let dpr = window.devicePixelRatio || 1,\n                        canvasRect = el.getBoundingClientRect();\n\n                    el.width = canvasRect.width * dpr;\n                    el.height = canvasRect.height * dpr;\n\n                    this.ctx2d = el.getContext('2d');\n                    this.ctx2d.scale(dpr, dpr);\n\n                    resolve();\n                }, 0);\n            });\n        }\n\n        render() {\n            return ''\n        }\n    }\n\n    class XAxisLayerCanvasHTMLComponent  extends CanvasHTMLComponent {\n        whenCreated(el) {\n            return super.whenCreated(el).then(() => {\n                el.className = 'x-axis';\n            })\n        }\n\n        whenRendered(el, {chartData, opts}) {\n            this.clear();\n            this._renderXAxisDates(chartData, opts);\n        }\n\n        _renderXAxisDates (chartData, opts) {\n            this.ctx2d.font = '.7em' + ' ' + 'Arial';\n            this.ctx2d.fillStyle = getColor('XYAxisLabels');\n            this.ctx2d.textBaseline = 'bottom';\n\n            let labelOccupiedWidth = 0;\n            bypassXPoints(\n                this.el,\n                opts.drawingFrame,\n                chartData.xData,\n                chartData.minX,\n                chartData.maxX,\n                (v, x) => {\n                    let date = new Date(v),\n                        label = MONTH_NAMES[date.getMonth()] + ' ' + date.getDate(),\n                        labelWidth = this.ctx2d.measureText(label).width,\n                        labelMidWidth = labelWidth / 2,\n                        labelX = x - labelMidWidth,\n                        labelXEnd = x + labelMidWidth;\n\n                    if (labelOccupiedWidth <= labelX && labelX >= 0 && labelXEnd <= this.el.clientWidth) {\n                        labelOccupiedWidth = labelXEnd + 15; // + 15 minimal distance between labels\n\n                        this.ctx2d.fillText(label, labelX, this.el.clientHeight);\n                    }\n                }\n            );\n        }\n    }\n\n    class YAxisLayerCanvasHTMLComponent extends CanvasHTMLComponent {\n        constructor() {\n            super();\n\n            this._prevMaxY = null;\n            this._anim = new Animation(this._frameAnimHandler);\n        }\n\n        whenCreated(el) {\n            return super.whenCreated(el).then(() => {\n                el.className = 'y-axis';\n            });\n        }\n\n        whenRendered(el, {chartData, opts}) {\n            let increase = this._prevMaxY === void 0 || chartData.maxY > this._prevMaxY\n                ? true\n                : (chartData.maxY === this._prevMaxY ? undefined : false);\n\n            // TODO: 0\n            if (0 && increase === undefined) {\n                return;\n            }\n\n            this._anim.start(\n                {\n                    layer: this,\n                    anim: this._anim,\n                    ctx: this.ctx2d,\n                    xData: chartData.xData,\n                    minY: chartData.minY,\n                    stepValY: (chartData.maxY - chartData.minY) / opts.yAxis.grid.horizontalLines,\n                    stepHrzLine: (this.el.clientHeight - opts.drawingFrame.y + opts.drawingFrame.height) / opts.yAxis.grid.horizontalLines,\n                    maxShift: 40,\n                    chartData,\n                    opts,\n                    increase,\n                }, 1000\n\n            ).onFinished(() => {\n                this._prevMaxY = chartData.maxY;\n            });\n        }\n\n        _renderXYAxisLabels () {\n            for (let i = 0, initY, animY; i < this.opts.yAxis.grid.horizontalLines; i++) {\n                initY = (i + 1) * this.stepHrzLine - 1;\n\n                if (this.increase) {\n                    animY = initY + this.maxShift - this.anim.easeOutExpo(this.progress, 0, this.maxShift, this.duration);\n                    animY = (animY < initY) ? initY : animY;\n                } else {\n                    animY = this.anim.easeOutExpo(this.progress, initY - this.maxShift, this.maxShift, this.duration);\n                    animY = (animY > initY) ? initY : animY;\n                }\n\n                this.ctx.beginPath();\n                this.ctx.lineWidth = this.opts.yAxis.grid.lineWidth;\n                this.ctx.strokeStyle = i === this.opts.yAxis.grid.horizontalLines - 1\n                    ? getColor('gridBottomBorder')\n                    : getColor('gridLine');\n\n                this.ctx.moveTo(0, animY + this.opts.drawingFrame.y + 1);\n                this.ctx.lineTo(this.layer.el.clientWidth, animY + this.opts.drawingFrame.y + 1);\n                this.ctx.stroke();\n\n                this.ctx.textBaseline = 'top';\n                this.ctx.font = '.7em' + ' ' + 'Arial';\n                this.ctx.fillStyle = getColor('XYAxisLabels');\n                this.ctx.fillText(\n                    toHumanValue(this.minY + this.stepValY * (this.opts.yAxis.grid.horizontalLines - 1 - i)),\n                    0,\n                    animY - 15 + this.opts.drawingFrame.y\n                );\n            }\n        }\n\n        _frameAnimHandler () {\n            this.layer.clear();\n            this.layer._renderXYAxisLabels.call(this);\n        }\n    }\n\n    class PointsInfoHTMLComponent extends HTMLComponent {\n        NAME = 'points-info';\n        DAY_NAMES = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\n        constructor() {\n            super();\n\n            this._values = []\n        }\n\n        whenCreate() {\n            this._values = [];\n        }\n\n        render ({x}) {\n            let date = new Date(x);\n            let weekDay = this.DAY_NAMES[date.getDay()];\n            let month = MONTH_NAMES[date.getMonth()];\n            let day = date.getDate();\n\n            return `\n                <div class=\"title\" style=\"color: ${getColor('pointsInfoTitle')}\">\n                   ${weekDay}, ${month} ${day}\n                </div>\n                <div class=\"values\">\n                    ${this._values.map(({yVal, lineName, color}) => `\n                        <div class=\"value\" style=\"color: ${color}\">\n                            <div>${toHumanValue(yVal)}</div>\n                            <div>${lineName}</div>\n                        </div>\n                    `).join('')}\n                </div>\n            `\n        }\n\n        onMouseOut () { }\n\n        whenCreated (el) {\n            el.style.backgroundColor = getColor('pointsInfoBackground');\n\n            this.el.addEventListener('mouseout', this.onMouseOut)\n        }\n\n        addVal ({yVal, lineName, color}) {\n            this._values.push({yVal, lineName, color});\n            this.rerender()\n        }\n\n        setPosition({left, right, top}) {\n            this.el.style.left = left;\n            this.el.style.right = right;\n            this.el.style.top = top;\n        }\n    }\n\n    class InfoLayerCanvasHTMLComponent extends CanvasHTMLComponent {\n        constructor() {\n            super();\n\n            this._chartData = null;\n            this._pointsInfo = new PointsInfoHTMLComponent();\n        }\n\n        whenCreated(el, {chartData, opts}) {\n            return super.whenCreated(el).then(() => {\n                el.className = 'info';\n                this._chartData = chartData;\n\n                el.addEventListener('mousemove', this._mouseMoveHandler.bind(this, opts));\n                el.addEventListener('mouseout', this._mouseOutHandler.bind(this));\n\n                this._pointsInfo.onMouseOut = (e) => {\n                    e.stopPropagation();\n\n                    if (e.relatedTarget && !parentElementsHierarchy(e.relatedTarget).includes(this._pointsInfo.el)) {\n                        this.clear();\n                        this._pointsInfo.remove();\n                    }\n                }\n            });\n        }\n\n        whenRendered(el, {chartData}) {\n            this._chartData = chartData;\n        }\n\n        clear() {\n            super.clear();\n            this._pointsInfo.remove();\n        }\n\n        _showInfo(chartData, opts, currXPos, points, lineIndex) {\n            for (let i = 0, leftPointMidDist, rightPointMidDist; i < points.length; i++) {\n                if (i > 0) {\n                    leftPointMidDist = (points[i][0] - points[i - 1][0]) * .5;\n                }\n                if (i < points.length - 1) {\n                    rightPointMidDist = (points[i + 1][0] - points[i][0]) * .5;\n                }\n\n                if (currXPos >= points[i][0] - leftPointMidDist && currXPos <= points[i][0] + rightPointMidDist) {\n                    if (this._firstPoint) {\n                        this._firstPoint = false;\n\n                        this.ctx2d.beginPath();\n                        this.ctx2d.lineWidth = 1;\n                        this.ctx2d.strokeStyle = getColor('verticalInfoLine');\n                        this.ctx2d.moveTo(points[i][0], 0);\n                        this.ctx2d.lineTo(points[i][0], this.el.clientHeight + opts.drawingFrame.height);\n                        this.ctx2d.stroke();\n\n                        if (this._pointsInfo.el) {\n                            // TODO: clear _values inside the component\n                            this._pointsInfo._values = [];\n                            this._pointsInfo.rerender({x: chartData.xData[i]})\n\n                        } else {\n                            this._pointsInfo.create(this.el.parentElement, {x: chartData.xData[i]});\n                        }\n                    }\n                    this._pointsInfo.addVal({\n                        yVal: chartData.yDatas[lineIndex][i],\n                        lineName: chartData.names[lineIndex],\n                        color: chartData.colors[lineIndex]\n                    });\n                    this._pointsInfo.setPosition({\n                        left: points[i][0] + 10 - this._pointsInfo.el.clientWidth * .5 + 'px',\n                        top: '10px'\n                    });\n\n                    this.ctx2d.beginPath();\n                    this.ctx2d.lineWidth = 2;\n                    this.ctx2d.strokeStyle = chartData.colors[lineIndex];\n                    this.ctx2d.fillStyle = getColor('background');\n                    this.ctx2d.arc(points[i][0], points[i][1], 4, 0, 2 * Math.PI);\n                    this.ctx2d.fill();\n                    this.ctx2d.stroke();\n                }\n            }\n        }\n\n        _mouseMoveHandler(opts, e) {\n            e.stopPropagation();\n\n            this.clear();\n\n            this._firstPoint = true;\n\n            drawPlot(\n                {\n                    x: opts.drawingFrame.x,\n                    y: opts.drawingFrame.y,\n                    width: this.el.clientWidth - opts.drawingFrame.x + opts.drawingFrame.width,\n                    height: this.el.clientHeight - opts.drawingFrame.y + opts.drawingFrame.height - 2\n                },\n                this._chartData,\n                this._showInfo.bind(this, this._chartData, opts, e.layerX)\n            );\n        }\n\n        _mouseOutHandler(e) {\n            e.stopPropagation();\n\n            if (e.relatedTarget && !parentElementsHierarchy(e.relatedTarget).includes(this._pointsInfo.el)) {\n                this.clear();\n            }\n        }\n    }\n\n    class PlotLayerCanvasHTMLComponent extends CanvasHTMLComponent {\n        constructor() {\n            super();\n\n            this.renderedChartData = [];\n            this._anim = new Animation(this._frameAnimHandler);\n        }\n\n        whenCreated(el) {\n            return super.whenCreated(el).then(() => {\n                el.className = 'plot';\n            })\n        }\n\n        whenRendered(el, {chartData, opts, animate}) {\n            this._anim.start(\n                {\n                    renderedChartData: this.renderedChartData,\n                    anim: this._anim,\n                    ctx: this.ctx2d,\n                    layer: this,\n                    chartData,\n                    opts,\n                    animate\n                },\n                800\n            );\n        }\n\n        _frameAnimHandler() {\n            this.layer.clear();\n\n            let lineWidth = 2;\n\n            drawPlot(\n                {\n                    x: this.opts.drawingFrame.x,\n                    y: this.opts.drawingFrame.y,\n                    width: this.layer.el.clientWidth - this.opts.drawingFrame.x + this.opts.drawingFrame.width,\n                    height: this.layer.el.clientHeight - this.opts.drawingFrame.y + this.opts.drawingFrame.height - lineWidth\n                },\n                this.chartData,\n                drawingPlotFunc.bind(this)\n            );\n\n            function drawingPlotFunc(points, lineIndex) {\n                this.ctx.beginPath();\n                this.ctx.lineWidth = lineWidth;\n                this.ctx.strokeStyle = this.chartData.colors[lineIndex];\n\n                for (let i = 0, x, y; i < points.length; i++) {\n                    x = points[i][0];\n                    y = points[i][1];\n\n                    let yr;\n                    if (this.animate) {\n                        let prevY = 0;\n                        if (this.renderedChartData[lineIndex] !== undefined) {\n                            if (this.renderedChartData[lineIndex][i] !== undefined) {\n                                prevY = this.renderedChartData[lineIndex][i];\n                            }\n                        }\n                        if (y < prevY) {\n                            yr = prevY - this.anim.easeOutExpo(this.progress, 0, prevY - y, this.duration);\n                        } else {\n                            yr = this.anim.easeOutExpo(this.progress, prevY, y - prevY, this.duration);\n                        }\n                    } else {\n                        yr = y\n                    }\n                    if (this.renderedChartData[lineIndex] === undefined) {\n                        this.renderedChartData[lineIndex] = [yr];\n                    } else {\n                        this.renderedChartData[lineIndex][i] = yr;\n                    }\n                    this.ctx.lineTo(x, yr)\n                }\n                this.ctx.stroke();\n            }\n        }\n    }\n\n    class ZoomCarriageHTMLComponent extends HTMLComponent {\n        NAME = 'zoom-carriage';\n\n        constructor() {\n            super();\n\n            this._currVisibilityFrame = null;\n            this._moveIsActive = false;\n            this._startStretchXPos = null;\n            this._initProps = {};\n            this._leftStretch = null;\n            this._rightStretch = null;\n            this._leftStretchIsActive = false;\n            this._rightStretchIsActive = false;\n        }\n\n        render() {\n            return `\n                <div class=\"left-stretch\"></div>\n                <div class=\"right-stretch\"></div>\n            `\n        }\n\n        get visibilityFrame() {\n            let from = this.el.offsetLeft / this.parent.el.clientWidth,\n                to = from + this.el.clientWidth / this.parent.el.clientWidth;\n            return [from, to];\n        }\n\n        whenVisibilityChanged(visibilityFrame) {}\n\n        whenCreated(el, {opts}) {\n            let color = getColor('zoomCarriageTool');\n\n            el.style.borderTopColor = color;\n            el.style.borderBottomColor = color;\n\n            this._leftStretch = el.getElementsByClassName('left-stretch')[0];\n            this._leftStretch.style.backgroundColor = color;\n\n            this._rightStretch = el.getElementsByClassName('right-stretch')[0];\n            this._rightStretch.style.backgroundColor = color;\n\n            addEventListeners(window, 'mousemove touchmove', this._windowMouseMoveHandler.bind(this));\n            addEventListeners(window, 'mouseup touchend', this._windowMouseUpHandler.bind(this));\n            addEventListeners(el, 'mousedown touchstart', this._mouseDownHandler.bind(this));\n            addEventListeners(this._leftStretch, 'mousedown touchstart', this._stretchMouseDownHandler.bind(this));\n            addEventListeners(this._rightStretch, 'mousedown touchstart', this._stretchMouseDownHandler.bind(this));\n\n            setTimeout(() => {\n                this.whenVisibilityChanged(this._currVisibilityFrame || this.visibilityFrame)\n            }, 0)\n        }\n\n        getRightShift() {\n            return (parseFloat(this.el.style.right) || 0);\n        }\n\n        _windowMouseMoveHandler(e) {\n            let x = e.screenX;\n            if (e instanceof TouchEvent) {\n                x = e.changedTouches[0].screenX\n            }\n            let dist = this._startStretchXPos - x;\n\n            if (this._moveIsActive) {\n                this._move(dist);\n                return\n            }\n            if (this._leftStretchIsActive) {\n                this._moveLeftStretch(dist);\n                return;\n            }\n            if (this._rightStretchIsActive) {\n                this._moveRightStretch(dist)\n            }\n        }\n\n        _windowMouseUpHandler() {\n            this._moveIsActive = false;\n            this._leftStretchIsActive = false;\n            this._rightStretchIsActive = false;\n        }\n\n        _mouseDownHandler(e) {\n            e.stopPropagation();\n\n            let x = e.screenX;\n            if (e instanceof TouchEvent) {\n                x = e.touches[0].screenX\n            }\n            this._moveIsActive = true;\n            this._startStretchXPos = x;\n            this._initProps.right = this.getRightShift();\n            this._initProps.width = this.el.clientWidth;\n        }\n\n        _stretchMouseDownHandler(e) {\n            e.stopPropagation();\n\n            let x = e.screenX;\n            if (e instanceof TouchEvent) {\n                x = e.touches[0].screenX\n            }\n            if (e.target === this._leftStretch) {\n                this._leftStretchIsActive = true;\n\n            } else if (e.target === this._rightStretch) {\n                this._rightStretchIsActive = true;\n            }\n            this._startStretchXPos = x;\n\n            this._initProps.right = this.getRightShift();\n            this._initProps.left = this.el.offsetLeft;\n            this._initProps.width = this.el.clientWidth;\n        }\n\n        _setProps({width, right}) {\n            if (width) {\n                this.el.style.width = width;\n            }\n            if (right) {\n                this.el.style.right = right;\n            }\n            this._currVisibilityFrame = this.visibilityFrame;\n\n            this.whenVisibilityChanged(this.visibilityFrame);\n        }\n\n        _move(dist) {\n            let newRight = this._initProps.right + dist;\n\n            if (newRight >= 0\n                && newRight <= this.parent.el.clientWidth - this._initProps.width\n            ) {\n                this._setProps({right: newRight + 'px'});\n            }\n        }\n\n        _moveLeftStretch(dist) {\n            let newWidth = this._initProps.width + dist;\n\n            if (newWidth >= 135\n                && newWidth <= this.parent.el.clientWidth - this._initProps.right\n            ) {\n                this._setProps({width: newWidth + 'px'});\n            }\n        }\n\n        _moveRightStretch(dist) {\n            let newRight = this._initProps.right + dist;\n\n            if (newRight >= 0\n                && this.parent.el.clientWidth - this._initProps.left - 135 >= newRight\n            ) {\n                let newWidth = this._initProps.width - dist;\n\n                this._setProps({\n                    right: newRight + 'px',\n                    width: newWidth + 'px'\n                });\n            }\n        }\n    }\n\n    class ZoomPlotCanvasHTMLComponent extends CanvasHTMLComponent{\n        whenRendered(el, {chartData, opts}) {\n            let lineWidth = 1;\n\n            this.clear();\n\n            drawPlot(\n                {\n                    x: 0,\n                    y: lineWidth,\n                    width: this.el.clientWidth,\n                    height: this.el.clientHeight - lineWidth\n                },\n                chartData,\n                (points, lineIndex) => {\n                    this.ctx2d.beginPath();\n                    this.ctx2d.lineWidth = lineWidth;\n                    this.ctx2d.strokeStyle = chartData.colors[lineIndex];\n\n                    for (let i = 0; i < points.length; i++) {\n                        this.ctx2d.lineTo(points[i][0], points[i][1])\n                    }\n                    this.ctx2d.stroke();\n                }\n            );\n        }\n    }\n\n    class ZoomHTMLComponent extends HTMLComponent {\n        NAME = 'zoom';\n\n        constructor() {\n            super();\n\n            this._plot = new ZoomPlotCanvasHTMLComponent();\n            this._overlay = new CanvasHTMLComponent();\n            this._zoomCarriage = new ZoomCarriageHTMLComponent();\n        }\n\n        render({chartData, opts}) {\n            this._zoomCarriage.whenVisibilityChanged = this._whenVisibilityChanged.bind(this);\n\n            return `\n                ${this._plot.create(this, {chartData, opts})}\n                ${this._overlay.create(this, {chartData, opts})}\n                ${this._zoomCarriage.create(this, {opts})}\n            `\n        }\n\n        get visibilityFrame() {\n            return this._zoomCarriage.visibilityFrame\n        }\n\n        whenVisibilityChanged(visibilityFrame) {}\n\n        _whenVisibilityChanged(visibilityFrame) {\n            this._renderOverlay();\n\n            this.whenVisibilityChanged(visibilityFrame);\n        }\n\n        _renderOverlay() {\n            this._overlay.clear();\n\n            this._overlay.ctx2d.fillStyle = getColor('zoomOverlay');\n            this._overlay.ctx2d.fillRect(0, 0, this._zoomCarriage.el.offsetLeft, this._overlay.el.clientHeight);\n\n            let zoomCarriageRightShift = this._zoomCarriage.getRightShift();\n            //console.log(this._overlay.el.clientWidth)\n\n            this._overlay.ctx2d.fillRect(\n                this._overlay.el.clientWidth - zoomCarriageRightShift,\n                0,\n                zoomCarriageRightShift,\n                this._overlay.el.clientHeight);\n        }\n    }\n\n    class LegendItemHTMLComponent extends HTMLComponent {\n        NAME = 'li';\n\n        constructor () {\n            super();\n\n            this._lineIndex = null;\n            this._visible = true;\n        }\n\n        render ({name, color, lineIndex}) {\n            this._lineIndex = lineIndex;\n\n            let styleObj = {\n                backgroundColor: color,\n                borderColor: color\n            };\n            if (!this._visible) {\n                styleObj.maskImage = 'unset';\n                styleObj.webkitMaskImage = 'unset';\n                styleObj.backgroundColor = 'none';\n            }\n            return `\n                <div class=\"state\" style=\"${style(styleObj)}\"></div>\n                <div class=\"name\" style=\"color: ${getColor('legendItemName')}\">${name}</div>\n            `\n        }\n\n        whenStateChanged (lineIndex, visible) { }\n\n        whenCreated (el) {\n            el.style.borderColor = getColor('legendItemBorder');\n\n            el.addEventListener('click', () => {\n                this._visible = !this._visible;\n                this.rerender();\n                this.whenStateChanged(this._lineIndex, this._visible)\n            })\n        }\n    }\n\n    class LegendHTMLComponent extends HTMLComponent {\n        NAME = 'ul';\n\n        constructor() {\n            super();\n\n            this._lines = [];\n        }\n\n        render({chartData, opts}) {\n            return `\n               ${this._lines.map(({name, color}, lineIndex) => {\n                   let legendItem =  new LegendItemHTMLComponent();\n                   legendItem.whenStateChanged = this.whenLegendItemStateChanged;\n                   return legendItem.create(this, {name, color, lineIndex})\n                }).join('')} \n            `\n        }\n\n        whenLegendItemStateChanged (lineIndex, visible) { }\n\n        whenCreated(el, {chartData}) {\n            el.className = 'legend';\n        }\n\n        addLine({name, color}) {\n            this._lines.push({name, color});\n            this.rerender()\n        }\n    }\n\n    class DownloadChartHTMLComponent extends HTMLComponent {\n        NAME = 'a';\n\n        render(data) {\n            return ``\n        }\n\n        whenCreated(el, {plotLayer, xAxisLayer, yAxisLayer}) {\n            super.whenCreated(el);\n\n            el.className = 'download-chart';\n            el.title = 'Download this chart as image';\n            el.style.backgroundColor = getColor('downloadChart');\n\n            el.addEventListener('click', this.download.bind(this, {plotLayer, xAxisLayer, yAxisLayer}));\n            el.addEventListener('mouseover', () => {\n                el.style.backgroundColor = getColor('downloadChartOnHover');\n            });\n            el.addEventListener('mouseout', () => {\n                el.style.backgroundColor = getColor('downloadChart');\n            });\n        }\n\n        download ({plotLayer, xAxisLayer, yAxisLayer}, e) {\n            yAxisLayer.ctx2d.drawImage(\n                xAxisLayer.el,\n                0, 0, xAxisLayer.el.clientWidth, xAxisLayer.el.clientHeight\n            );\n            yAxisLayer.ctx2d.drawImage(\n                plotLayer.el,\n                0, 0, plotLayer.el.clientWidth, plotLayer.el.clientHeight\n            );\n            e.target.href = yAxisLayer.el.toDataURL('image/png');\n            e.target.download = `chart-${this._id}.png`;\n        }\n    }\n\n    class ChartHTMLComponent extends HTMLComponent {\n        NAME = 'chart';\n\n        constructor() {\n            super();\n\n            this._yAxisLayer = new YAxisLayerCanvasHTMLComponent();\n            this._xAxisLayer = new XAxisLayerCanvasHTMLComponent();\n            this._plotLayer = new PlotLayerCanvasHTMLComponent();\n            this._infoLayer = new InfoLayerCanvasHTMLComponent();\n\n            this._zoom = new ZoomHTMLComponent();\n            this._legend = new LegendHTMLComponent();\n            this._download = new DownloadChartHTMLComponent();\n        }\n\n        render({name, chartData, opts}) {\n            let currVisibilityFrame,\n                visibilityChangedTimer,\n                lastVisibleChartData = {minY: null, maxY: null};\n\n            this._zoom.whenVisibilityChanged = (visibilityFrame) => {\n                currVisibilityFrame = visibilityFrame;\n                this._infoLayer.clear();\n\n                this._render(chartData, opts, lastVisibleChartData, visibilityFrame, false);\n\n                if (visibilityChangedTimer) {\n                    clearTimeout(visibilityChangedTimer);\n                }\n                visibilityChangedTimer = setTimeout(() => {\n                    this._render(chartData, opts, lastVisibleChartData, visibilityFrame, true, true)\n                }, 100);\n            };\n\n            this._legend.whenLegendItemStateChanged = (lineIndex, visible) => {\n                chartData.yDatas[lineIndex].visible = visible;\n\n                this._render(chartData, opts, lastVisibleChartData, currVisibilityFrame, true, true)\n            };\n\n            return `\n                <div class=\"name\">${name}</div>\n                ${this._plotLayer.create(this, {chartData, opts})}\n                ${this._yAxisLayer.create(this, {chartData, opts})}\n                ${this._xAxisLayer.create(this, {chartData, opts})}\n                ${this._infoLayer.create(this, {chartData, opts})}\n                ${this._zoom.create(this, {chartData, opts: opts.zoom})}\n                ${this._legend.create(this, {chartData, opts})}\n                ${this._download.create(this, {\n                    plotLayer: this._plotLayer,\n                    xAxisLayer: this._xAxisLayer,\n                    yAxisLayer: this._yAxisLayer\n                })}\n            `\n        }\n\n        whenCreated(el, {chartData}) {\n            el.getElementsByClassName('name')[0].style.color = getColor('legendItemName');\n\n            chartData.names.forEach((name, i) => {\n                this._legend.addLine({name, color: chartData.colors[i]})\n            });\n        }\n\n        _render (chartData, opts, lastVisibleChartData, visibilityFrame, recalculateMinMaxY=true, animate=false) {\n            let xl = chartData.xData.length,\n                visibleXData = chartData.xData.slice(\n                    xl * visibilityFrame[0],\n                    xl * visibilityFrame[1]\n                ),\n                minMaxX = minMax(visibleXData);\n\n            let visibleChartData = {\n                xData: visibleXData,\n                yDatas: [],\n                minX: minMaxX[0],\n                maxX: minMaxX[1],\n                minY: null,\n                maxY: null,\n                colors: [],\n                names: chartData.names\n            };\n            chartData.minY = null;\n            chartData.maxY = null;\n\n            for (let lineIndex = 0, visibleData, pointsYLen; lineIndex < chartData.yDatas.length; lineIndex++) {\n                if (chartData.yDatas[lineIndex].visible === false) {\n                    continue\n                }\n                let mm = minMax(chartData.yDatas[lineIndex]);\n                chartData.minY = chartData.minY === null\n                    ? mm[0]\n                    : Math.min(chartData.minY, mm[0]);\n\n                chartData.maxY = chartData.maxY === null\n                    ? mm[1]\n                    : Math.max(chartData.maxY, mm[1]);\n\n\n                visibleChartData.colors.push(chartData.colors[lineIndex]);\n\n                pointsYLen = chartData.yDatas[lineIndex].length;\n                visibleData = chartData.yDatas[lineIndex].slice(\n                    pointsYLen * visibilityFrame[0],\n                    pointsYLen * visibilityFrame[1]\n                );\n                visibleChartData.yDatas.push(visibleData);\n\n                if (recalculateMinMaxY) {\n                    let mm = minMax(visibleData);\n                    visibleChartData.minY = visibleChartData.minY === null\n                        ? mm[0]\n                        : Math.min(visibleChartData.minY, mm[0]);\n\n                    visibleChartData.maxY = visibleChartData.maxY === null\n                        ? mm[1]\n                        : Math.max(visibleChartData.maxY, mm[1]);\n                }\n            }\n\n            if (visibleChartData.minY == null) {\n                visibleChartData.minY = visibleChartData.minY || lastVisibleChartData.minY || chartData.minY;\n            }\n            if (visibleChartData.maxY == null) {\n                visibleChartData.maxY = visibleChartData.maxY || lastVisibleChartData.maxY || chartData.maxY;\n            }\n            lastVisibleChartData.minY = visibleChartData.minY;\n            lastVisibleChartData.maxY = visibleChartData.maxY;\n\n            this._yAxisLayer.rerender({chartData: visibleChartData, opts});\n            this._xAxisLayer.rerender({chartData: visibleChartData, opts});\n            this._plotLayer.rerender({chartData: visibleChartData, opts, animate});\n            this._infoLayer.rerender({chartData: visibleChartData, opts});\n            this._zoom._plot.rerender({chartData, opts: opts.zoom});\n        }\n    }\n\n    return {\n        configure: configure,\n        setData: setData,\n        switchMode: switchMode,\n        isNightMode: isNightMode,\n    };\n\n    function configure(val) {\n        config = Object.assign(config, val);\n    }\n\n    function setData(data) {\n        if (!Array.isArray(data)) {\n            throw new TypeError('Data for the TChart can be Array type only')\n        }\n        // to re-render the scene without the passing data always\n        rerender = render.bind(null, data);\n        fullrerender = rerender.bind(null, {\n            drawingFrame: {\n                x: 0,\n                y: 10,\n                width: 0,\n                height: -20\n            },\n            yAxis: {\n                text: {\n                    fontSize: '.7em',\n                    fontFamily: 'Arial'\n                },\n                grid: {\n                    horizontalLines: 5,\n                    lineWidth: .3\n                }\n            }\n        });\n        fullrerender();\n    }\n\n    function switchMode() {\n        config.nightMode = !config.nightMode;\n        fullrerender();\n    }\n\n    function isNightMode() {\n        return config.nightMode;\n    }\n\n    function getColor(name) {\n        return config.nightMode ? colorsMap.night[name] : colorsMap.day[name]\n    }\n\n    function prepareChartData(chartData) {\n        let xData, yDatas = [], minMaxXData, minY, maxY, colors = [], names = [];\n\n        for (let columnIndex = 0; columnIndex < chartData.columns.length; columnIndex++) {\n            let columnData = chartData.columns[columnIndex];\n\n            if (!Array.isArray(columnData)) {\n                throw new TypeError('Column data can be only Array type')\n            }\n            if (!columnData.length) {\n                throw new Error('Column data cannot be empty')\n            }\n            let columnName = columnData[0],\n                columnType = chartData.types[columnName];\n\n            if (!columnType) {\n                throw new TypeError('Column type for a column by ref\"' + columnName + '\" was not defined')\n            }\n            if (![LINE_COLUMN_TYPE, X_COLUMN_TYPE].includes(columnType)) {\n                throw new Error('Column type \"' + columnType + '\" does not supported')\n            }\n            if (columnType === X_COLUMN_TYPE) {\n                if (xData) {\n                    throw new Error('Column type \"X\" can be only one')\n                }\n                xData = columnData.slice(1); // remove column type from data\n                minMaxXData = minMax(xData);\n\n            } else {\n                let yData = columnData.slice(1); // remove column type from data\n                let minMaxYData = minMax(yData);\n                minY = minY === undefined ? minMaxYData[0]: Math.min(minY, minMaxYData[0]);\n                maxY = maxY === undefined ? minMaxYData[1]: Math.max(maxY, minMaxYData[1]);\n\n                yDatas.push(yData);\n                // meta\n                colors.push(chartData.colors[columnName]);\n                names.push(chartData.names[columnName]);\n            }\n        }\n\n        return {\n            xData: xData,\n            yDatas: yDatas,\n            names: names,\n            colors: colors,\n            minX: minMaxXData[0],\n            maxX: minMaxXData[1],\n            minY: minY,\n            maxY: maxY\n        }\n    }\n\n    function render(data, opts) {\n        let chartsContainer = document.getElementById(config.containerId);\n        if (!chartsContainer) {\n            throw new Error('Charts container by ID \"' + config.containerId + '\" was not found');\n        }\n        document.body.className = config.nightMode ? 'night-mode' : '';\n        chartsContainer.innerHTML = '';\n\n        for (let i = 0; i < data.length; i++) {\n            (new ChartHTMLComponent()).create(\n                chartsContainer,\n                {name: 'Chart #' + (i + 1), chartData: prepareChartData(data[i]), opts});\n        }\n    }\n\n    /**\n     * @param {Object} canvas - Canvas HTML element\n     * @param {Object} drawingFrame\n     * @param {Array} data\n     * @param {Number} minX\n     * @param {Number} maxX\n     * @param {function} callback\n     */\n    function bypassXPoints(canvas, drawingFrame, data, minX, maxX, callback) {\n        let width = canvas.clientWidth - drawingFrame.x + drawingFrame.width,\n            compressionRatioX = width / (maxX - minX);\n\n        for (let i = 0; i < data.length; i++) {\n            let x = drawingFrame.x + (data[i] - minX) * compressionRatioX;\n            callback(data[i], x)\n        }\n    }\n\n    /**\n     * Draw the plot in the specific area somewhere you want\n     * @param {{x: number, y: number, width: number, height: number}} areaMetric -\n     * @param {Object} chartData\n     * @param {function} drawingFunc\n     */\n    function drawPlot(areaMetric, chartData, drawingFunc) {\n        let compressionRatioX = areaMetric.width / (chartData.maxX - chartData.minX),\n            compressionRatioY = areaMetric.height / (chartData.maxY - chartData.minY);\n\n        for (let lineIndex = 0, points; lineIndex < chartData.yDatas.length; lineIndex++) {\n            if (chartData.yDatas[lineIndex].visible === false) {\n                continue\n            }\n            points = [];\n            for (let yIndex = 0; yIndex < chartData.yDatas[lineIndex].length; yIndex++) {\n                points.push([\n                    areaMetric.x + (chartData.xData[yIndex] - chartData.minX) * compressionRatioX,\n                    // areaMetric.height - inversion by Y\n                    areaMetric.y + areaMetric.height - (\n                        chartData.yDatas[lineIndex][yIndex] - chartData.minY\n                    ) * compressionRatioY\n                ])\n            }\n            drawingFunc(points, lineIndex);\n        }\n    }\n\n    function Animation(frameHandler) {\n        let reqAnimId, onFinishedCallback = function() { };\n\n        return {\n            start: start,\n            easeOutExpo: easeOutExpo,\n            onFinished: onFinished\n        };\n\n        function onFinished(callback) {\n            onFinishedCallback = callback\n        }\n\n        function start(context, duration) {\n            context = context || {};\n\n            let startAnimTime;\n\n            if (reqAnimId) {\n                cancelAnimationFrame(reqAnimId);\n            }\n            reqAnimId = requestAnimationFrame(frame);\n            return this;\n\n            function frame(timestamp) {\n                if (!startAnimTime) {\n                    startAnimTime = timestamp;\n                }\n                context.progress = timestamp - startAnimTime;\n                context.duration = duration;\n\n                frameHandler.call(context);\n\n                if (context.progress < duration) {\n                    reqAnimId = requestAnimationFrame(frame)\n                } else {\n                    reqAnimId = null;\n                    onFinishedCallback();\n                }\n            }\n        }\n\n        function easeOutExpo (t, b, c, d) {\n            return c * (-Math.pow(2, -10 * t / d) + 1) * 1024 / 1023 + b;\n        }\n    }\n\n    function minMax(data) {\n        let min, max;\n\n        for (let i = 0; i < data.length; i++) {\n            if (min === undefined || min > data[i]) {\n                min = data[i]\n            }\n            if (max === undefined || max < data[i]) {\n                max = data[i]\n            }\n        }\n        return [min, max];\n    }\n\n    function toHumanValue(v) {\n        if (v >= 1000000000) {\n            return (v / 1000000000).toFixed(2) + 'G';\n\n        } else if (v >= 1000000) {\n            return (v / 1000000).toFixed(2) + 'M';\n\n        } else if (v >= 1000) {\n            return (v / 1000).toFixed(2) + 'K';\n        }\n        return v > 0 ? v.toFixed(2) : v;\n    }\n\n    function parentElementsHierarchy(e, parents = []) {\n        parents.push(e);\n\n        if (e.parentElement) {\n            parentElementsHierarchy(e.parentElement, parents)\n        }\n        return parents\n    }\n})();\n"],"file":"tchart.js"}